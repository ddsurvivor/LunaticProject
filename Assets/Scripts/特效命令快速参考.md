# 特效命令快速参考

## CG淡入淡出

### 基本用法
```
CG(图片名)                    # 默认淡出淡入
CG(图片名, 类型)              # 指定效果
CG(图片名, 类型, 时长)        # 完整自定义
```

### 类型速查表
| 类型 | 效果 | 用途 |
|:----:|------|------|
| 0 | 无效果，直接切换 | 快速切换 |
| 1 | 仅淡入 | 场景首次显示 |
| 2 | 仅淡出 | 场景结束 |
| 3 | 淡出后淡入（默认） | 常规切换 |

### 示例
```
CG(forest)                    # 淡出淡入，默认0.5秒
CG(battle,0)                  # 无效果，立即切换
CG(sunset,1)                  # 仅淡入
CG(ending,2)                  # 仅淡出
CG(dramatic,3,2.0)            # 淡出淡入，2秒
```

---

## 画面震动

### 基本用法
```
SHAKE()                       # 默认震动
SHAKE(强度)                   # 自定义强度
SHAKE(强度, 时长)             # 自定义强度和时长
SHAKE(强度, 时长, 次数)       # 完整自定义
```

### 强度参考
| 强度 | 效果 | 场景 |
|:----:|------|------|
| 5-10 | 轻微 | 脚步、轻碰撞 |
| 15-25 | 中等 | 爆炸、重击 |
| 30-50 | 强烈 | 地震、大爆炸 |
| 50+ | 剧烈 | 灾难 |

### 示例
```
SHAKE()                       # 默认：强度20，0.5秒，10次
SHAKE(30)                     # 强度30
SHAKE(40,1.0)                 # 强度40，持续1秒
SHAKE(50,0.8,15)              # 强度50，0.8秒，震15次
```

---

## 组合使用

### 战斗冲击
```
SOUND(hit)+SHAKE(25,0.3)
```

### 大爆炸
```
SOUND(explosion)+SHAKE(50,0.6,12)+CG(explosion,1,0.3)
```

### 场景切换
```
CG(new_scene,3,1.0)+MUSIC(new_bgm)
```

### 地震
```
SOUND(rumble,1)+SHAKE(35,2.0,20)
旁白:地震来了！
SOUND(rumble,0)+SHAKE(15,0.5)
旁白:震动平息了
```

### 魔法爆炸
```
角色:看我的魔法！
SOUND(magic_charge,1)
SHAKE(10,0.5,5)
旁白:魔力聚集中...
SOUND(magic_charge,0)+SOUND(explosion)+SHAKE(60,0.4)+CG(magic_effect,1,0.2)
旁白:轰！
```

---

## 常见场景模板

### 场景转换
```
CG(scene1,3,0.8)+MUSIC(bgm1)
旁白:你来到了森林
...
CG(scene2,3,1.0)+MUSIC(bgm2)
旁白:你离开了森林
```

### 震撼开场
```
SHAKE(10,0.2)
CG(title,0)
SHAKE(15,0.3)
SOUND(impact)
SHAKE(30,0.5)
旁白:游戏开始！
```

### 平滑过渡
```
CG(current,2,0.5)             # 淡出
SHAKE(5,0.2)                  # 轻微震动
CG(next,1,0.5)                # 淡入
```

---

## Inspector设置

### 剧本System组件设置

1. **CG淡入淡出时间**: 默认0.5秒
2. **震动目标**: 拖入要震动的RectTransform

---

## 注意事项

✅ CG图片放在 `Resources/CG/` 文件夹  
✅ 必须设置震动目标（RectTransform）  
✅ 不要过度使用震动  
✅ 震动强度建议在5-50范围  
✅ 淡入淡出时间建议0.3-2.0秒  

---

## 调试

### Console日志示例
```
执行震动: 强度=30, 时长=0.5秒, 次数=10
```

### 常见问题
- 震动无效 → 检查是否设置了震动目标
- CG无效果 → 检查类型参数和时长
- 效果太弱 → 增大强度或时长参数

